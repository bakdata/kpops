# Migrate from V2 to V3

## [Make Kafka rest proxy & connect hosts default and improve schema registry config](https://github.com/bakdata/kpops/pull/354)

The breaking changes target the `config.yaml` file:

- The `schema_registry_url` is replaced with `schema_registry.enabled` (default `false`) and `schema_registry.url` (default `http://localhost:8081`).

- `kafka_rest_host` is renamed to `kafka_rest.url` (default `http://localhost:8082`).

- `kafka_connect_host` is replaced with `kafka_connect.url` (default `http://localhost:8083`).

The environment variable name of these config fields changed respectively. The environment variable `KPOPS_KAFKA_BROKERS` changed to `KPOPS_BROKERS`. Please refer to the [environment variables documentation page](../core-concepts/variables/environment_variables.md) to see the newest changes.

Your `config.yaml` will change to:

```diff
  environment: development
  brokers: "http://k8kafka-cp-kafka-headless.kpops.svc.cluster.local:9092"
- kafka_rest_host: "http://my-custom-rest.url:8082"
- kafka_connect_host: "http://my-custom-connect.url:8083"
- schema_registry_url: "http://my-custom-sr.url:8081"
+ kafka_rest:
+   url: "http://my-custom-rest.url:8082"
+ kafka_connect:
+   url: "http://my-custom-connect.url:8083"
+ schema_registry:
+   enabled: true
+   url: "http://my-custom-sr.url:8081"
```
