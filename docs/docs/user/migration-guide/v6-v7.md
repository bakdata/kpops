# Migrate from V6 to V7

## [Automatic loading of namespaced custom components](https://github.com/bakdata/kpops/pull/500)

KPOps is now distributed as a Python namespace package (as defined by [PEP 420](https://peps.python.org/pep-0420/)). This allows us to standardize the namespace `kpops.components` for both builtin and custom pipeline components.

As a result of the restructure, some imports need to be adjusted:

**KPOps Python API**

```diff
- import kpops
+ import kpops.api as kpops
```

**builtin KPOps components**

```diff
- from kpops.components import (
-     HelmApp,
-     KafkaApp,
-     KafkaConnector,
-     KafkaSinkConnector,
-     KafkaSourceConnector,
-     KubernetesApp,
-     StreamsBootstrap,
-     ProducerApp,
-     StreamsApp,
-     PipelineComponent,
-     StreamsApp,
-     ProducerApp,
- )
+ from kpops.components.base_components import (
+     HelmApp,
+     KafkaApp,
+     KafkaConnector,
+     KafkaSinkConnector,
+     KafkaSourceConnector,
+     KubernetesApp,
+     PipelineComponent,
+ )
+ from kpops.components.streams_bootstrap import (
+     StreamsBootstrap,
+     StreamsApp,
+     ProducerApp,
+ )
```

### your custom KPOps components

#### config.yaml

```diff
- components_module: components
```

#### Python module

```diff
- components/__init__.py
+ kpops/components/custom/__init__.py
```

## [Rename app field](https://github.com/bakdata/kpops/pull/506)

The `app` attribute of the builtin KPOps components has been renamed to better differentiate them. Both your `pipeline.yaml` and `defaults.yaml` files have to be updated, e.g.:

#### defaults.yaml

```diff
  kubernetes-app:
-   app: {}
+   values: {}

  helm-app:
-   app: {}
+   values: {}

  kafka-app:
-   app: {}
+   values: {}

  streams-app:
-   app: {}
+   values: {}

  producer-app:
-   app: {}
+   values: {}

  kafka-connector:
-   app: {}
+   config: {}

  kafka-source-connector:
-   app: {}
+   config: {}

  kafka-sink-connector:
-   app: {}
+   config: {}
```
